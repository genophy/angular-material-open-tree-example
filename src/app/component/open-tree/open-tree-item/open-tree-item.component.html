<div *ngFor="let item of treeList;let idx  = index;">
	<div class="tree-item" *ngIf="item.name">
		<div class="tree-item-header" *ngIf="!item.editable">
			<div class="item-fold">
				<button *ngIf="item.children && 0 < item.children.length" mat-icon-button (click)="btnToggleUnFold(item)">
					<mat-icon class="mat-icon-rtl-mirror">
						{{item.isUnFold ? 'expand_more':'chevron_right'}}
					</mat-icon>
				</button>
			</div>
			<div class="item-op" *ngIf="checkboxAble">
				<mat-checkbox color="primary" [checked]="item.checked" (change)="btnToggleCheckbox(item,$event.checked,true)"></mat-checkbox>
			</div>
			<div class="item-op" cursor-pointer (click)="btnItemClick(item)">
				{{item.name}}
			</div>
			<div class="item-op">
				<!-- 新增子节点 -->
				<button mat-icon-button (click)="btnAddChild(item)" *ngIf="_addAble && 0 !== childrenHierarchy">
					<mat-icon>add</mat-icon>
				</button>
				<!-- 编辑当前节点 -->
				<button mat-icon-button (click)="btnModifyCurrentItem(item)" *ngIf="_editAble">
					<mat-icon>edit</mat-icon>
				</button>
				<!-- 删除当前节点 -->
				<button mat-icon-button (click)="btnRemoveCurrentItem(idx)" *ngIf="_removeAble">
					<mat-icon>close</mat-icon>
				</button>
			</div>
		</div>
		<!-- 编辑当前节点 -->
		<div class="tree-item-header" *ngIf="_editAble && item.editable">
			<div class="tree-item">
				<div class="tree-item-header">
					<div class="item-fold">
					</div>
					<mat-form-field w-150>
						<input matInput [(ngModel)]="_nameForModify">
						<button mat-button *ngIf="_nameForModify" matSuffix mat-icon-button aria-label="Clear" (click)="nameForModify=''">
							<mat-icon>close</mat-icon>
						</button>
					</mat-form-field>
					<button mat-icon-button (click)="btnSaveModifiedItem(item)">
						<mat-icon>done</mat-icon>
					</button>
				</div>

			</div>
		</div>
		<!-- 子节点 -->
		<div class="tree-item-children" [hidden]="!item.isUnFold" *ngIf="0 !== childrenHierarchy">
			<crm-open-tree-item [parentObjs]="parentObjs | arrayPush:pureItem(item)" [treeList]="item.children"
								[handlerItemClick]="handlerItemClick"
								[handlerModify]="handlerModify" [handlerAdd]="handlerAdd" [handlerRemove]="handlerRemove"
								[childrenHierarchy]="childrenHierarchy?childrenHierarchy-1:childrenHierarchy"
								(treeListChanged)="changeItemTreeList(item,$event)" (allCheckedChanged)="itemIterationForUpdateChecked(item,$event)"></crm-open-tree-item>
		</div>
	</div>
	<!-- 增加的节点 -->
	<div class="tree-item-children" *ngIf="_addAble && item.additionAble">
		<div class="tree-item">
			<div class="tree-item-header">
				<div class="item-fold">
				</div>
				<mat-form-field w-150>
					<input matInput [(ngModel)]="_nameForAdd">
					<button mat-button *ngIf="_nameForAdd" matSuffix mat-icon-button aria-label="Clear" (click)="nameForAdd=''">
						<mat-icon>close</mat-icon>
					</button>
				</mat-form-field>
				<button mat-icon-button (click)="btnSaveChild(item)">
					<mat-icon>done</mat-icon>
				</button>
			</div>
		</div>
	</div>
</div>
